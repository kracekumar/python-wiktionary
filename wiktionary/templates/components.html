{% macro flash_messages() -%}
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      {% for category, message in messages %}
        <div class="alert alert-{{category}} fade in">
          <a href="#" class="close" data-dismiss="alert">&times;</a>
          {{ message }}
        </div>
      {% endfor %}
    {% endif %}
  {% endwith %}
{%- endmacro %}

{% macro networkbar(siteid=none, login=false, baseclass=none, containerclass="container") -%}
  <div id="hg-bar" class="no-print {%- if baseclass %} {{ baseclass }}{% endif %}">
    <div class="{{ containerclass }}">
      <ul id="hg-barlinks">
        <li {%- if siteid == 'home' %} class="selected"{% endif %}><a href="http://hasgeek.com/"><strong><span class="hg-h">Has</span><span class="hg-g">Geek</span></strong></a></li>
        <li {%- if siteid == 'blog' %} class="selected"{% endif %}><a href="http://blog.hasgeek.com/">Blog</a></li>
        <li {%- if siteid == 'jobs' %} class="selected"{% endif %}><a href="http://jobs.hasgeek.com/">Jobs</a></li>
        <li {%- if siteid == 'hgtv' %} class="selected"{% endif %}><a href="http://hasgeek.tv/">TV</a></li>
        <li {%- if siteid == 'funnel' %} class="selected"{% endif %}><a href="http://funnel.hasgeek.com/">Funnel</a></li>
        <li {%- if siteid == 'geekup' %} class="selected"{% endif %}><a href="http://geekup.in/">Geekup</a></li>
        <li {%- if siteid == 'hacknight' %} class="selected"{% endif %}><a href="http://beta.hacknight.in/">Hacknight</a></li>
        <li {%- if siteid == 'events' %} class="selected"{% endif %}>
          <a href="#" class="hg-submenu">Events</a>
          <ul>
            <li><a href="http://jsfoo.in/2012">JSFoo 2012</a></li>
            <li><a href="http://droidcon.in/2012">Droidcon India 2012</a></li>
            <li><a href="http://paystation.in/2012">PayStation</a></li>
            <li class="hg-menu-section">Past events</li>
            <li><a href="http://cartonama.com/2012">Cartonama Conference</a></li>
            <li><a href="http://fifthelephant.in/">The Fifth Elephant</a></li>
            <li><a href="http://rootconf.in/">Rootconf</a></li>
            <li><a href="http://metarefresh.in/">Meta Refresh</a></li>
            <li><a href="http://workshop.cartonama.com/">Cartonama Workshop</a></li>
            <li><a href="http://droidcon.in/2011">Droidcon India 2011</a></li>
            <li><a href="http://jsfoo.in/">JSFoo</a></li>
            <li><a href="http://phpcloud.hasgeek.com/">Scaling PHP in the Cloud</a></li>
            <li><a href="http://androidcamp.hasgeek.com/">AndroidCamp</a></li>
            <li><a href="http://www.doctypehtml5.in/">DocType HTML5</a></li>
          </ul>
        </li>
      </ul>
      {%- if login %}
        <ul id="hg-usertools">
          {% if g.user -%}
            <li class="profile"><a href="{{ g.user.profile_url }}">{{ g.user.fullname }}</a></li>
            <li><a href="{{ url_for('logout') }}">Logout</a></li>
          {%- else %}
            <li><a href="{{ url_for('login') }}">Login</a></li>
          {%- endif %}      
        </ul>
      {%- endif %}
    </div>
  </div>
{%- endmacro %}
